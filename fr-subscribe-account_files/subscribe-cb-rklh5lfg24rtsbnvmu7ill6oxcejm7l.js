(function(a){function e(b){a(".multiLicenseChooser",b).on("change",f).each(f);a("form#subscribeAccountForm :input:visible:enabled:first",b).trigger("focus");a(g+", "+h,b).on("input",l);a(k,b).on("input",function(){a(this).data("modified",a(this).val())});a("#subscribeAccountForm, #subscribePaymentForm",b).on("submit",function(b){b=a(this);var d=b.find("input[name\x3dpaymentType]:checked").data("gaPassthroughPayment");if(b.is("#subscribeAccountForm")||d)return b.ajaxSubmit({target:".ajaxWrapper",beforeSubmit:function(a,
b,c){b.find("button, input[type\x3dsubmit], input[type\x3dreset]").attr("disabled","disabled").prop("disabled",!0)},error:function(a,b,c,d){d.find("button, input[type\x3dsubmit], input[type\x3dreset]").removeAttr("disabled").prop("disabled",!1);noty&&noty({text:"Unexpected error",timeout:1E3,theme:"relax",type:"error"});console&&console.log&&console.log(c)},success:function(){var b=a("[data-ga-page-url]",this).data("gaPageUrl");b&&(history.pushState(null,a(document).find("title").text(),b),a(window).trigger("statechange"));
a(this).gaInitGeneral();e(a(this))}}),!1})}function m(b){var c=a("[data-ga-page-url]").data("gaPageUrl"),d=window.location.pathname+window.location.search;c!==d&&a(".ajaxWrapper").load(d,function(){a(this).gaInitGeneral();e(a(this));c=a(this).find("[data-ga-page-url]").data("gaPageUrl");c!==d&&history.replaceState(null,a(document).find("title").text(),c)})}function f(){var b=a(this),c=b.closest("fieldset,form"),b=b.find(":selected");b.length&&(c.find(".multiLicensePricePerLicense").html(b.data("gaLicprice")),
c.find(".multiLicenseTotalPrice").html(b.data("gaTotalprice")))}function l(b){b=a(k);var c=a.trim(a(g).val()+" "+a(h).val());b.data("modified")||b.val(c)}var g="form#subscribePaymentForm :input[name\x3d'billingAddress.firstName']",h="form#subscribePaymentForm :input[name\x3d'billingAddress.lastName']",k="form#subscribePaymentForm :input[name\x3dccName]";a(function(){e(a(".primary"));a(window).on("statechange popstate",m)})})(jQuery);